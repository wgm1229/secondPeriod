## 一、React介绍
> 用于构建用户界面的 JavaScript 库

1.React特点
  + 声明式    数据驱动视图
  + 组件化    一个js文件就是一个组件

2.React、Vue、Angular哪个好？
> 工具本身没有好坏，需要根据项目不动，选择合适的技术
 + React上手较快、使用原生js较多
 + Vue上手快，文档完备
 + Angular上手成本最高，功能大而全 TS开发

3.React跟Vue对比？
  + 相似点
    - 都是数据驱动视图
    - 都是组件化
  + 不同点
    - 组件的封装方式，.vue   .js
    - Vue是保姆式的框架  内部封装了很多易用api  v-for  v-if
    - React： 如非必要、勿增实体   array.map()    三目运算
  + 面对新技术栈
    - 多掌握一个技能，增加一份薪资
    - 多回顾一下原生JS相关方法（例如：数组操作）
    - 入职公司后，同时使用Vue跟React可能性不是很高

## 二、搭建React开发环境
1.下载项目环境
```
npx create-react-app my-app
```

2.使用yarn包管理器
[文档](https://yarn.bootcss.com/docs/usage/)
  + 电脑全局安装yarn
  ```
  cnpm i yarn -g
  ```
  + 使用yarn进行项目依赖管理与项目启动

3.项目目录结构
- public   存放页面模板等文件
- src
  - components  存放公共组件
  - App.js     根组件
  - index.js   项目入口文件，做根节点的渲染

## JSX语法
> 是一种表达DOM树的语法糖

1.原生js定义一个dom节点
```
let myDiv = `<div></div>`
```

2.使用JSX表达DOM节点树关系
```
let el = <div></div>
```

3.React中也有虚拟DOM、Diff算法
React视图更新的大概过程:
JSX节点树---旧虚拟DOM----Diff算法----新虚拟DOM----真实DOM渲染

4.JSX中动态语法
  + 字符串渲染
  + 基本运算 (加减乘除模)
  + 模板字符串
  + 三目运算
  + 函数调用
  + 逻辑运算（与或非）
  + JSX嵌套
``` 
let str = 'hello'
function sum(a,b){
    return a+b
}
let ele = <h1>独立的jsx结构</h1>
function JsxDemo(){
    return (
        <div>
            <h1>使用JSX渲染数据</h1>
            <p>{str}</p>
            <p>{10%3}</p>
            <p>{`这是一个模板字符串${str}`}</p>
            <p>{1>3? '1大于3':'1大于3不成立'}</p>
            <p>{sum(123,45)}</p>
            <p>{'你好'||'React'}</p>
            <p>{ele}</p>
        </div>
    );
}
export default JsxDemo
```
5.属性、样式的动态绑定
  + input  value\checked\disabled等
  + img    src
  + div    className
```
<div className={`box ${isActive?'active':''}`}></div>
{/* 通过value绑定的值，默认视图无法操作 */}
<input value={str} />
<input defaultValue={str}/>
```
## 组件分类
> 使用组件的时候，首字母必须大写  

<JsxDemo/>

1.函数式组件
> 在16号版本前，函数式组件又称为无状态组件，无法定义响应式数据
> 新版本中的Hooks新特性，可以让函数式组件拥有响应式数据能力

```
export default function JsxDemo() {  //函数式组件
  return (
    <div></div>
  );
}
```

2.类组件
> 通过class类的方式，定义组件
> 使用React提供的基础类，继承一个新的组件类

```
import React, {Component} from 'react'

class ClassDemo extends Component{
  render(){
    return <h2>我是类组件</h2>
  }
}

export default ClassDemo
```

## 类组件及其state
> 类组件里面的state，相当于vue组件中的data

1.在constructor中定义state
```
constructor(){
    super()
    this.state = {
      num:100
    }
  }
```
2.在组件JSX结构中提取并绑定state
```
this.state.数据名
```
3.修改state
```
this.setState({被修改数据名:新数据值})
```

## 事件函数的定义
1.普通函数定义方式，需要修正this指向
```
constructor(){
  this.handlePlus = this.handlePlus.bind(this) 
}
...其他代码
handlePlus(){
  let n = this.state.num + 1
  this.setState({
    num: n
  })
}
```
2.箭头函数定义方式
```
handlePlus=()=>{
    let n = this.state.num + 1
    this.setState({
      num: n
    })
  }
```

## 通过vscode插件快速构建组件基本结构
插件名称:React/Redux/react-router Snippets  153k下载量

## 菜单切换案例
1. 定义isActive的state
2. 通过属性的动态绑定，控制菜单激活效果
3. 通过三目运算完成内容组件的条件渲染

## 条件渲染
```
{
  isActive ? <Cont1 /> : <Cont2 />
}
```

## 列表渲染
```
tabs.map((item,index)=>{
  return (
    <li
      className={index===idx ? 'active' : ''}
      onClick={() => { this.handleTab(index) }} 
      key={index}
    >
      {item}
    </li>
  )
})
```


## 任务
1. 熟悉课堂代码
2. 熟悉JS所有的Array数组方法
[Array数组方法文档](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/map)



