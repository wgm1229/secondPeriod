## 移动端组件库
[vant组件库](https://vant-contrib.gitee.io/vant/#/zh-CN/)

## vant组件库的使用流程

1.安装
```
npm i vant -S
```

2.在main.js中引入Vant
```
import Vant from 'vant';
import 'vant/linb/index.css';
Vue.use(Vant);
```

3.在业务组件中直接调用vant提供的组件
```
<van-icon name="chat-o" />
```

## 理论储备
1.JS中对象引用的现象
> 普通数据只是值的复制   
```
var a = 123;
var b = a;
//b只是复制了一下a的值，然后两个变量就没关系了
```
> 对象的赋值，不但是值的复制，也是内存空间的引用
```
var a = [1,2,3];
var b = a;
// 修改了b会影响a
```
2.ES6拓展运算符
```
// this.numArr = numArr; //视图无法更新，由于对象引用的原因，导致vue没有发现numArr的内部变化
// console.log(numArr,...numArr); //对比拓展运算符处理前后的数组形态变化
this.numArr = [...numArr]; //ES6拓展运算符，将一个集合展开为一堆内容
```

## 项目功能点梳理
1.使用vant组件实现分类按钮布局

2.通过在线接口请求，获取歌手分类数据包
> api/singer.js   getCfyList方法
```
import request from '../utils/request'
//引入请求方法的文件,去使用request方法
export const getSingerList = (area=-100, genre=-100,sex=-100)=>{ //定义导出的函数
    return request.get(`hehe/singer/list?area=${area}&genre=${genre}&sex=${sex}`)
}

export const getClassifyList = ()=>{
    return request.get('hehe/singer/category')
}
```

在singer.vue组件中导入api文件,将函数提取出来使用
```
import {getSingerList,getClassifyList} from '../api/singer'
```

可以直接通过提取出来的函数发起ajax请求获取数据
getClassifyList();getSingerList(参数1,参数2,参数3,...)
```
getSingerList(this.idArr[0],this.idArr[1],this.idArr[3]).then((res) => {
  this.singerList = res.data.data.list;
  // console.log(this.singerList)
});
```


3.按照设计图需求，将数据包动态渲染到页面指定位置

4.点击分类按钮的时候，改变不同的条件，发起新的请求获取新的数据

## better-scroll模块
[文档](https://better-scroll.github.io/docs/zh-CN/)
> 实现移动端滑动效果

1.安装
```
npm i better-scroll
```
2.在Singer.vue中准备一个DOM容器
  + ref="topwrapper"    绑定指定DOM
  + this.$refs.topwrapper  获取DOM

3.如果想要better-scroll滑动生效，需要两层容器
  + 最外层topwrapper容器是固定宽度，跟屏幕一样宽，并添加overflow:hidden
  + 内部，内容容器top-singer的宽度，一定要比topwrapper宽

4.在Singer.vue中引入better-scroll模块
```
import BScroll from '@better-scroll/core'
```

5.在mounted生命周期函数中，进行Better-Scroll的初始化
指南--核心滚动--配置项
```
mounted() {
  console.log(this.$refs);
  let scroll = new BScroll(this.$refs.topwrapper,{
    scrollX:true
  })
}
```

## 任务

1. 实现课堂所有效果

2. 思考实现较多分类横向的滑动  better-scroll实现

